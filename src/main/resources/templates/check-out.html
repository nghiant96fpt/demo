<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>
<body>
	<div class="container p-3">
		<h1 th:text="${checkOutErr}" class="text-danger mt-3 mb-3"></h1>
		<table class="table">
		  <thead>
		    <tr>
		      <th scope="col">ID</th>
		      <th scope="col">Tên sản phẩm</th>
		      <th scope="col">Giá</th>
		      <th scope="col">Số lượng</th>
		      <th scope="col">Tổng tiền</th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr th:each="item : ${cartItems}">
		    	<td th:text="${item.id}"></td>
		    	<td th:text="${item.product.name}"></td>
		    	<td th:text="${item.product.price}"></td>
		    	<td th:text="${item.quantity}"></td>
		    	<td th:text="${item.quantity * item.product.price}"></td>
		    </tr>
		  </tbody>
		</table>
		
		<h2 class="text-danger" th:text="|Tổng giá trị đơn hàng: ${totalPrice}|"></h2>
		
		<form method="POST"
			action="/user/check-out"
			th:object="${checkOutBean}">
			<div class="mb-3">
			  <label for="exampleFormControlInput1" class="form-label">Tên người nhận</label>
			  <input th:value="*{name}" name="name" type="text" class="form-control" id="exampleFormControlInput1">
			  <small class="text-danger" th:errors="*{name}"></small>
			</div>
			
			<div class="mb-3">
			  <label for="exampleFormControlInput1" class="form-label">Số điện thoại người nhận</label>
			  <input th:value="*{phone}" name="phone" type="text" class="form-control" id="exampleFormControlInput1">
			  <small class="text-danger" th:errors="*{phone}"></small>
			</div>
			
			<div class="mb-3">
			  <label for="exampleFormControlInput1" class="form-label">Địa chỉ người nhận</label>
			  <input th:value="*{address}" name="address" type="text" class="form-control" id="exampleFormControlInput1">
			  <small class="text-danger" th:errors="*{address}"></small>
			</div>
			
			<button class="btn btn-danger" type="submit">Đặt hàng</button>
		</form>
	</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
</body>
</html>